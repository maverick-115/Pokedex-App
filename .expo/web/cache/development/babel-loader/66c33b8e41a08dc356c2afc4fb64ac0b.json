{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport React, { useState, useCallback } from \"react\";\nimport { useFocusEffect } from \"@react-navigation/native\";\nimport { getPokemonsFavoriteApi } from \"../api/favorite\";\nimport useAuth from \"../hooks/useAuth\";\nimport { getPokemonDetailsApi } from \"../api/pokemon\";\nimport PokemonList from \"../components/PokemonList\";\nimport NOLogged from \"../components/Pokemon/NOLogged\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function Favorite() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      pokemons = _useState2[0],\n      setPokemons = _useState2[1];\n\n  var _useAuth = useAuth(),\n      auth = _useAuth.auth;\n\n  useFocusEffect(useCallback(function () {\n    if (auth) {\n      (function _callee() {\n        var response, pokemonsArray, _iterator, _step, id, pokemonDetails;\n\n        return _regeneratorRuntime.async(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _regeneratorRuntime.awrap(getPokemonsFavoriteApi());\n\n              case 2:\n                response = _context.sent;\n                pokemonsArray = [];\n                _iterator = _createForOfIteratorHelperLoose(response);\n\n              case 5:\n                if ((_step = _iterator()).done) {\n                  _context.next = 13;\n                  break;\n                }\n\n                id = _step.value;\n                _context.next = 9;\n                return _regeneratorRuntime.awrap(getPokemonDetailsApi(id));\n\n              case 9:\n                pokemonDetails = _context.sent;\n                pokemonsArray.push({\n                  id: pokemonDetails.id,\n                  name: pokemonDetails.name,\n                  type: pokemonDetails.types[0].type.name,\n                  order: pokemonDetails.order,\n                  image: pokemonDetails.sprites.other[\"official-artwork\"].front_default\n                });\n\n              case 11:\n                _context.next = 5;\n                break;\n\n              case 13:\n                setPokemons(pokemonsArray);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      })();\n    }\n  }, [auth]));\n  return !auth ? _jsx(NOLogged, {}) : _jsx(PokemonList, {\n    pokemons: pokemons\n  });\n}","map":{"version":3,"names":["React","useState","useCallback","useFocusEffect","getPokemonsFavoriteApi","useAuth","getPokemonDetailsApi","PokemonList","NOLogged","Favorite","pokemons","setPokemons","auth","response","pokemonsArray","id","pokemonDetails","push","name","type","types","order","image","sprites","other","front_default"],"sources":["C:/Users/Usuario/MyCourses/React Native - Pokedex/pokedex/src/screens/Favorite.js"],"sourcesContent":["import { SafeAreaView, Text } from \"react-native\";\r\nimport React, { useState, useCallback } from \"react\";\r\nimport { useFocusEffect } from \"@react-navigation/native\";\r\nimport { getPokemonsFavoriteApi } from \"../api/favorite\";\r\nimport useAuth from \"../hooks/useAuth\";\r\nimport { getPokemonDetailsApi } from \"../api/pokemon\";\r\nimport PokemonList from \"../components/PokemonList\";\r\nimport NOLogged from \"../components/Pokemon/NOLogged\";\r\n\r\nexport default function Favorite() {\r\n  const [pokemons, setPokemons] = useState([]);\r\n  const { auth } = useAuth();\r\n\r\n  useFocusEffect(\r\n    useCallback(() => {\r\n      if (auth) {\r\n        (async () => {\r\n          const response = await getPokemonsFavoriteApi();\r\n          const pokemonsArray = [];\r\n          for await (const id of response) {\r\n            const pokemonDetails = await getPokemonDetailsApi(id);\r\n            pokemonsArray.push({\r\n              id: pokemonDetails.id,\r\n              name: pokemonDetails.name,\r\n              type: pokemonDetails.types[0].type.name,\r\n              order: pokemonDetails.order,\r\n              image:\r\n                pokemonDetails.sprites.other[\"official-artwork\"].front_default,\r\n            });\r\n          }\r\n          setPokemons(pokemonsArray);\r\n        })();\r\n      }\r\n    }, [auth])\r\n  );\r\n\r\n  return !auth ? <NOLogged /> : <PokemonList pokemons={pokemons} />;\r\n}\r\n"],"mappings":";;;;;;;;;;;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,WAA1B,QAA6C,OAA7C;AACA,SAASC,cAAT,QAA+B,0BAA/B;AACA,SAASC,sBAAT;AACA,OAAOC,OAAP;AACA,SAASC,oBAAT;AACA,OAAOC,WAAP;AACA,OAAOC,QAAP;;AAEA,eAAe,SAASC,QAAT,GAAoB;EACjC,gBAAgCR,QAAQ,CAAC,EAAD,CAAxC;EAAA;EAAA,IAAOS,QAAP;EAAA,IAAiBC,WAAjB;;EACA,eAAiBN,OAAO,EAAxB;EAAA,IAAQO,IAAR,YAAQA,IAAR;;EAEAT,cAAc,CACZD,WAAW,CAAC,YAAM;IAChB,IAAIU,IAAJ,EAAU;MACR,CAAC;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,iCACwBR,sBAAsB,EAD9C;;cAAA;gBACOS,QADP;gBAEOC,aAFP,GAEuB,EAFvB;gBAAA,4CAGwBD,QAHxB;;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;;gBAGkBE,EAHlB;gBAAA;gBAAA,iCAIgCT,oBAAoB,CAACS,EAAD,CAJpD;;cAAA;gBAISC,cAJT;gBAKGF,aAAa,CAACG,IAAd,CAAmB;kBACjBF,EAAE,EAAEC,cAAc,CAACD,EADF;kBAEjBG,IAAI,EAAEF,cAAc,CAACE,IAFJ;kBAGjBC,IAAI,EAAEH,cAAc,CAACI,KAAf,CAAqB,CAArB,EAAwBD,IAAxB,CAA6BD,IAHlB;kBAIjBG,KAAK,EAAEL,cAAc,CAACK,KAJL;kBAKjBC,KAAK,EACHN,cAAc,CAACO,OAAf,CAAuBC,KAAvB,CAA6B,kBAA7B,EAAiDC;gBANlC,CAAnB;;cALH;gBAAA;gBAAA;;cAAA;gBAcCd,WAAW,CAACG,aAAD,CAAX;;cAdD;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAD;IAgBD;EACF,CAnBU,EAmBR,CAACF,IAAD,CAnBQ,CADC,CAAd;EAuBA,OAAO,CAACA,IAAD,GAAQ,KAAC,QAAD,KAAR,GAAuB,KAAC,WAAD;IAAa,QAAQ,EAAEF;EAAvB,EAA9B;AACD"},"metadata":{},"sourceType":"module"}