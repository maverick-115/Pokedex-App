{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { includes, pull } from \"lodash\";\nimport { FAVORITE_STORAGE } from \"../utils/constants\";\nexport function getPokemonsFavoriteApi() {\n  var response;\n  return _regeneratorRuntime.async(function getPokemonsFavoriteApi$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(FAVORITE_STORAGE));\n\n        case 3:\n          response = _context.sent;\n          return _context.abrupt(\"return\", JSON.parse(response || \"[]\"));\n\n        case 7:\n          _context.prev = 7;\n          _context.t0 = _context[\"catch\"](0);\n          throw _context.t0;\n\n        case 10:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 7]], Promise);\n}\nexport function addPokemonFavoriteApi(id) {\n  var favorites;\n  return _regeneratorRuntime.async(function addPokemonFavoriteApi$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(getPokemonsFavoriteApi());\n\n        case 3:\n          favorites = _context2.sent;\n          favorites.push(id);\n          _context2.next = 7;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem(FAVORITE_STORAGE, JSON.stringify(favorites)));\n\n        case 7:\n          _context2.next = 12;\n          break;\n\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2[\"catch\"](0);\n          throw _context2.t0;\n\n        case 12:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[0, 9]], Promise);\n}\nexport function isPokemonFavoriteApi(id) {\n  var response;\n  return _regeneratorRuntime.async(function isPokemonFavoriteApi$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return _regeneratorRuntime.awrap(getPokemonsFavoriteApi());\n\n        case 3:\n          response = _context3.sent;\n          return _context3.abrupt(\"return\", includes(response, id));\n\n        case 7:\n          _context3.prev = 7;\n          _context3.t0 = _context3[\"catch\"](0);\n          throw _context3.t0;\n\n        case 10:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, [[0, 7]], Promise);\n}\nexport function removePokemonFavoriteApi(id) {\n  var favorites, newFavorites;\n  return _regeneratorRuntime.async(function removePokemonFavoriteApi$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return _regeneratorRuntime.awrap(getPokemonsFavoriteApi(id));\n\n        case 3:\n          favorites = _context4.sent;\n          newFavorites = pull(favorites, id);\n          _context4.next = 7;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem(FAVORITE_STORAGE, JSON.stringify(newFavorites)));\n\n        case 7:\n          _context4.next = 12;\n          break;\n\n        case 9:\n          _context4.prev = 9;\n          _context4.t0 = _context4[\"catch\"](0);\n          throw _context4.t0;\n\n        case 12:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, [[0, 9]], Promise);\n}","map":{"version":3,"names":["AsyncStorage","includes","pull","FAVORITE_STORAGE","getPokemonsFavoriteApi","getItem","response","JSON","parse","addPokemonFavoriteApi","id","favorites","push","setItem","stringify","isPokemonFavoriteApi","removePokemonFavoriteApi","newFavorites"],"sources":["C:/Users/Usuario/MyCourses/React Native - Pokedex/pokedex/src/api/favorite.js"],"sourcesContent":["import AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { includes, pull } from \"lodash\";\r\nimport { FAVORITE_STORAGE } from \"../utils/constants\";\r\n\r\nexport async function getPokemonsFavoriteApi() {\r\n  try {\r\n    const response = await AsyncStorage.getItem(FAVORITE_STORAGE);\r\n    return JSON.parse(response || \"[]\");\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function addPokemonFavoriteApi(id) {\r\n  try {\r\n    const favorites = await getPokemonsFavoriteApi();\r\n    favorites.push(id);\r\n    await AsyncStorage.setItem(FAVORITE_STORAGE, JSON.stringify(favorites));\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function isPokemonFavoriteApi(id) {\r\n  try {\r\n    const response = await getPokemonsFavoriteApi();\r\n    return includes(response, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function removePokemonFavoriteApi(id) {\r\n  try {\r\n    const favorites = await getPokemonsFavoriteApi(id);\r\n    const newFavorites = pull(favorites, id);\r\n    await AsyncStorage.setItem(FAVORITE_STORAGE, JSON.stringify(newFavorites));\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n}\r\n"],"mappings":";AAAA,OAAOA,YAAP,MAAyB,2CAAzB;AACA,SAASC,QAAT,EAAmBC,IAAnB,QAA+B,QAA/B;AACA,SAASC,gBAAT;AAEA,OAAO,SAAeC,sBAAf;EAAA;EAAA;IAAA;MAAA;QAAA;UAAA;UAAA;UAAA,iCAEoBJ,YAAY,CAACK,OAAb,CAAqBF,gBAArB,CAFpB;;QAAA;UAEGG,QAFH;UAAA,iCAGIC,IAAI,CAACC,KAAL,CAAWF,QAAQ,IAAI,IAAvB,CAHJ;;QAAA;UAAA;UAAA;UAAA;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA;AASP,OAAO,SAAeG,qBAAf,CAAqCC,EAArC;EAAA;EAAA;IAAA;MAAA;QAAA;UAAA;UAAA;UAAA,iCAEqBN,sBAAsB,EAF3C;;QAAA;UAEGO,SAFH;UAGHA,SAAS,CAACC,IAAV,CAAeF,EAAf;UAHG;UAAA,iCAIGV,YAAY,CAACa,OAAb,CAAqBV,gBAArB,EAAuCI,IAAI,CAACO,SAAL,CAAeH,SAAf,CAAvC,CAJH;;QAAA;UAAA;UAAA;;QAAA;UAAA;UAAA;UAAA;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA;AAUP,OAAO,SAAeI,oBAAf,CAAoCL,EAApC;EAAA;EAAA;IAAA;MAAA;QAAA;UAAA;UAAA;UAAA,iCAEoBN,sBAAsB,EAF1C;;QAAA;UAEGE,QAFH;UAAA,kCAGIL,QAAQ,CAACK,QAAD,EAAWI,EAAX,CAHZ;;QAAA;UAAA;UAAA;UAAA;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA;AASP,OAAO,SAAeM,wBAAf,CAAwCN,EAAxC;EAAA;EAAA;IAAA;MAAA;QAAA;UAAA;UAAA;UAAA,iCAEqBN,sBAAsB,CAACM,EAAD,CAF3C;;QAAA;UAEGC,SAFH;UAGGM,YAHH,GAGkBf,IAAI,CAACS,SAAD,EAAYD,EAAZ,CAHtB;UAAA;UAAA,iCAIGV,YAAY,CAACa,OAAb,CAAqBV,gBAArB,EAAuCI,IAAI,CAACO,SAAL,CAAeG,YAAf,CAAvC,CAJH;;QAAA;UAAA;UAAA;;QAAA;UAAA;UAAA;UAAA;;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA"},"metadata":{},"sourceType":"module"}