{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport { getPokemonsAPi, getPokemonDetailsByUrlAPi } from \"../api/pokemon\";\nimport PokemonList from \"../components/PokemonList\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function Pokedex() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      pokemons = _useState2[0],\n      setPokemons = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      nextUrl = _useState4[0],\n      setNextUrl = _useState4[1];\n\n  useEffect(function () {\n    (function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(loadPokemons());\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n\n  var loadPokemons = function _callee2() {\n    var response, pokemonsArray, _iterator, _step, pokemon, pokemonDetails;\n\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(getPokemonsAPi(nextUrl));\n\n          case 3:\n            response = _context2.sent;\n            setNextUrl(response.next);\n            pokemonsArray = [];\n            _iterator = _createForOfIteratorHelperLoose(response.results);\n\n          case 7:\n            if ((_step = _iterator()).done) {\n              _context2.next = 15;\n              break;\n            }\n\n            pokemon = _step.value;\n            _context2.next = 11;\n            return _regeneratorRuntime.awrap(getPokemonDetailsByUrlAPi(pokemon.url));\n\n          case 11:\n            pokemonDetails = _context2.sent;\n            pokemonsArray.push({\n              id: pokemonDetails.id,\n              name: pokemonDetails.name,\n              type: pokemonDetails.types[0].type.name,\n              order: pokemonDetails.order,\n              image: pokemonDetails.sprites.other[\"official-artwork\"].front_default\n            });\n\n          case 13:\n            _context2.next = 7;\n            break;\n\n          case 15:\n            setPokemons([].concat(_toConsumableArray(pokemons), pokemonsArray));\n            _context2.next = 21;\n            break;\n\n          case 18:\n            _context2.prev = 18;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.error(_context2.t0);\n\n          case 21:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 18]], Promise);\n  };\n\n  return _jsx(SafeAreaView, {\n    children: _jsx(PokemonList, {\n      pokemons: pokemons,\n      loadPokemons: loadPokemons,\n      isNext: nextUrl\n    })\n  });\n}","map":{"version":3,"names":["React","useState","useEffect","getPokemonsAPi","getPokemonDetailsByUrlAPi","PokemonList","Pokedex","pokemons","setPokemons","nextUrl","setNextUrl","loadPokemons","response","next","pokemonsArray","results","pokemon","url","pokemonDetails","push","id","name","type","types","order","image","sprites","other","front_default","console","error"],"sources":["C:/Users/Usuario/MyCourses/React Native - Pokedex/pokedex/src/screens/Pokedex.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { SafeAreaView } from \"react-native\";\r\nimport { getPokemonsAPi, getPokemonDetailsByUrlAPi } from \"../api/pokemon\";\r\nimport PokemonList from \"../components/PokemonList\";\r\n\r\nexport default function Pokedex() {\r\n  const [pokemons, setPokemons] = useState([]);\r\n  const [nextUrl, setNextUrl] = useState(null);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      await loadPokemons();\r\n    })();\r\n  }, []);\r\n\r\n  const loadPokemons = async () => {\r\n    try {\r\n      const response = await getPokemonsAPi(nextUrl);\r\n      setNextUrl(response.next);\r\n\r\n      const pokemonsArray = [];\r\n      for await (const pokemon of response.results) {\r\n        const pokemonDetails = await getPokemonDetailsByUrlAPi(pokemon.url);\r\n\r\n        pokemonsArray.push({\r\n          id: pokemonDetails.id,\r\n          name: pokemonDetails.name,\r\n          type: pokemonDetails.types[0].type.name,\r\n          order: pokemonDetails.order,\r\n          image: pokemonDetails.sprites.other[\"official-artwork\"].front_default,\r\n        });\r\n      }\r\n\r\n      setPokemons([...pokemons, ...pokemonsArray]);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView>\r\n      <PokemonList\r\n        pokemons={pokemons}\r\n        loadPokemons={loadPokemons}\r\n        isNext={nextUrl}\r\n      />\r\n    </SafeAreaView>\r\n  );\r\n}\r\n"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;AAEA,SAASC,cAAT,EAAyBC,yBAAzB;AACA,OAAOC,WAAP;;AAEA,eAAe,SAASC,OAAT,GAAmB;EAChC,gBAAgCL,QAAQ,CAAC,EAAD,CAAxC;EAAA;EAAA,IAAOM,QAAP;EAAA,IAAiBC,WAAjB;;EACA,iBAA8BP,QAAQ,CAAC,IAAD,CAAtC;EAAA;EAAA,IAAOQ,OAAP;EAAA,IAAgBC,UAAhB;;EAEAR,SAAS,CAAC,YAAM;IACd,CAAC;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,iCACOS,YAAY,EADnB;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAD;EAGD,CAJQ,EAIN,EAJM,CAAT;;EAMA,IAAMA,YAAY,GAAG;IAAA;;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA;YAAA,iCAEMR,cAAc,CAACM,OAAD,CAFpB;;UAAA;YAEXG,QAFW;YAGjBF,UAAU,CAACE,QAAQ,CAACC,IAAV,CAAV;YAEMC,aALW,GAKK,EALL;YAAA,4CAMWF,QAAQ,CAACG,OANpB;;UAAA;YAAA;cAAA;cAAA;YAAA;;YAMAC,OANA;YAAA;YAAA,iCAOcZ,yBAAyB,CAACY,OAAO,CAACC,GAAT,CAPvC;;UAAA;YAOTC,cAPS;YASfJ,aAAa,CAACK,IAAd,CAAmB;cACjBC,EAAE,EAAEF,cAAc,CAACE,EADF;cAEjBC,IAAI,EAAEH,cAAc,CAACG,IAFJ;cAGjBC,IAAI,EAAEJ,cAAc,CAACK,KAAf,CAAqB,CAArB,EAAwBD,IAAxB,CAA6BD,IAHlB;cAIjBG,KAAK,EAAEN,cAAc,CAACM,KAJL;cAKjBC,KAAK,EAAEP,cAAc,CAACQ,OAAf,CAAuBC,KAAvB,CAA6B,kBAA7B,EAAiDC;YALvC,CAAnB;;UATe;YAAA;YAAA;;UAAA;YAkBjBpB,WAAW,8BAAKD,QAAL,GAAkBO,aAAlB,EAAX;YAlBiB;YAAA;;UAAA;YAAA;YAAA;YAoBjBe,OAAO,CAACC,KAAR;;UApBiB;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAArB;;EAwBA,OACE,KAAC,YAAD;IAAA,UACE,KAAC,WAAD;MACE,QAAQ,EAAEvB,QADZ;MAEE,YAAY,EAAEI,YAFhB;MAGE,MAAM,EAAEF;IAHV;EADF,EADF;AASD"},"metadata":{},"sourceType":"module"}