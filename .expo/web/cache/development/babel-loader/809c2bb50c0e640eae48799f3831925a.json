{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport React, { useState, useEffect } from \"react\";\nimport { getPokemonDetailsApi } from \"../api/pokemon\";\nimport Header from \"../components/Pokemon/Header\";\nimport Type from \"../components/Pokemon/Type\";\nimport Stats from \"../components/Pokemon/Stats\";\nimport Icon from \"@expo/vector-icons/FontAwesome5\";\nimport Favorite from \"../components/Pokemon/Favorite\";\nimport useAuth from \"../hooks/useAuth\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Pokemon(props) {\n  var navigation = props.navigation,\n      params = props.route.params;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      pokemon = _useState2[0],\n      setPokemon = _useState2[1];\n\n  var _useAuth = useAuth(),\n      auth = _useAuth.auth;\n\n  useEffect(function () {\n    navigation.setOptions({\n      headerRight: function headerRight() {\n        return auth && _jsx(Favorite, {\n          id: pokemon == null ? void 0 : pokemon.id\n        });\n      },\n      headerLeft: function headerLeft() {\n        return _jsx(Icon, {\n          name: \"arrow-left\",\n          color: \"#fff\",\n          size: 20,\n          style: {\n            marginLeft: 20\n          },\n          onPress: navigation.goBack\n        });\n      }\n    });\n  }, [navigation, params, pokemon, auth]);\n  useEffect(function () {\n    (function _callee() {\n      var response;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(getPokemonDetailsApi(params.id));\n\n            case 3:\n              response = _context.sent;\n              setPokemon(response);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              navigation.goBack();\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 7]], Promise);\n    })();\n  }, [params]);\n  if (!pokemon) return null;\n  return _jsxs(ScrollView, {\n    children: [_jsx(Header, {\n      name: pokemon.name,\n      order: pokemon.id,\n      image: pokemon.sprites.other[\"official-artwork\"].front_default,\n      type: pokemon.types[0].type.name\n    }), _jsx(Type, {\n      types: pokemon.types\n    }), _jsx(Stats, {\n      stats: pokemon.stats\n    })]\n  });\n}","map":{"version":3,"names":["React","useState","useEffect","getPokemonDetailsApi","Header","Type","Stats","Icon","Favorite","useAuth","Pokemon","props","navigation","params","route","pokemon","setPokemon","auth","setOptions","headerRight","id","headerLeft","marginLeft","goBack","response","name","sprites","other","front_default","types","type","stats"],"sources":["C:/Users/Usuario/MyCourses/React Native - Pokedex/pokedex/src/screens/Pokemon.js"],"sourcesContent":["import { ScrollView } from \"react-native\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { getPokemonDetailsApi } from \"../api/pokemon\";\r\nimport Header from \"../components/Pokemon/Header\";\r\nimport Type from \"../components/Pokemon/Type\";\r\nimport Stats from \"../components/Pokemon/Stats\";\r\nimport Icon from \"react-native-vector-icons/FontAwesome5\";\r\nimport Favorite from \"../components/Pokemon/Favorite\";\r\nimport useAuth from \"../hooks/useAuth\";\r\n\r\nexport default function Pokemon(props) {\r\n  const {\r\n    navigation,\r\n    route: { params },\r\n  } = props;\r\n  const [pokemon, setPokemon] = useState(null);\r\n  const { auth } = useAuth();\r\n\r\n  useEffect(() => {\r\n    navigation.setOptions({\r\n      //estas son dos maneras de escribir lo mismo\r\n      //headerRight: () => (auth ? <Favorite id={pokemon?.id} /> : null),\r\n      headerRight: () => auth && <Favorite id={pokemon?.id} />,\r\n      headerLeft: () => (\r\n        <Icon\r\n          name=\"arrow-left\"\r\n          color=\"#fff\"\r\n          size={20}\r\n          style={{ marginLeft: 20 }}\r\n          onPress={navigation.goBack}\r\n        />\r\n      ),\r\n    });\r\n  }, [navigation, params, pokemon, auth]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const response = await getPokemonDetailsApi(params.id);\r\n        setPokemon(response);\r\n      } catch (error) {\r\n        navigation.goBack();\r\n      }\r\n    })();\r\n  }, [params]);\r\n\r\n  if (!pokemon) return null;\r\n\r\n  return (\r\n    <ScrollView>\r\n      <Header\r\n        name={pokemon.name}\r\n        order={pokemon.id}\r\n        image={pokemon.sprites.other[\"official-artwork\"].front_default}\r\n        type={pokemon.types[0].type.name}\r\n      />\r\n      <Type types={pokemon.types} />\r\n      <Stats stats={pokemon.stats} />\r\n    </ScrollView>\r\n  );\r\n}\r\n"],"mappings":";;;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,oBAAT;AACA,OAAOC,MAAP;AACA,OAAOC,IAAP;AACA,OAAOC,KAAP;AACA,OAAOC,IAAP;AACA,OAAOC,QAAP;AACA,OAAOC,OAAP;;;AAEA,eAAe,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;EACrC,IACEC,UADF,GAGID,KAHJ,CACEC,UADF;EAAA,IAEWC,MAFX,GAGIF,KAHJ,CAEEG,KAFF,CAEWD,MAFX;;EAIA,gBAA8BZ,QAAQ,CAAC,IAAD,CAAtC;EAAA;EAAA,IAAOc,OAAP;EAAA,IAAgBC,UAAhB;;EACA,eAAiBP,OAAO,EAAxB;EAAA,IAAQQ,IAAR,YAAQA,IAAR;;EAEAf,SAAS,CAAC,YAAM;IACdU,UAAU,CAACM,UAAX,CAAsB;MAGpBC,WAAW,EAAE;QAAA,OAAMF,IAAI,IAAI,KAAC,QAAD;UAAU,EAAE,EAAEF,OAAF,oBAAEA,OAAO,CAAEK;QAAvB,EAAd;MAAA,CAHO;MAIpBC,UAAU,EAAE;QAAA,OACV,KAAC,IAAD;UACE,IAAI,EAAC,YADP;UAEE,KAAK,EAAC,MAFR;UAGE,IAAI,EAAE,EAHR;UAIE,KAAK,EAAE;YAAEC,UAAU,EAAE;UAAd,CAJT;UAKE,OAAO,EAAEV,UAAU,CAACW;QALtB,EADU;MAAA;IAJQ,CAAtB;EAcD,CAfQ,EAeN,CAACX,UAAD,EAAaC,MAAb,EAAqBE,OAArB,EAA8BE,IAA9B,CAfM,CAAT;EAiBAf,SAAS,CAAC,YAAM;IACd,CAAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,iCAE0BC,oBAAoB,CAACU,MAAM,CAACO,EAAR,CAF9C;;YAAA;cAESI,QAFT;cAGGR,UAAU,CAACQ,QAAD,CAAV;cAHH;cAAA;;YAAA;cAAA;cAAA;cAKGZ,UAAU,CAACW,MAAX;;YALH;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAD;EAQD,CATQ,EASN,CAACV,MAAD,CATM,CAAT;EAWA,IAAI,CAACE,OAAL,EAAc,OAAO,IAAP;EAEd,OACE,MAAC,UAAD;IAAA,WACE,KAAC,MAAD;MACE,IAAI,EAAEA,OAAO,CAACU,IADhB;MAEE,KAAK,EAAEV,OAAO,CAACK,EAFjB;MAGE,KAAK,EAAEL,OAAO,CAACW,OAAR,CAAgBC,KAAhB,CAAsB,kBAAtB,EAA0CC,aAHnD;MAIE,IAAI,EAAEb,OAAO,CAACc,KAAR,CAAc,CAAd,EAAiBC,IAAjB,CAAsBL;IAJ9B,EADF,EAOE,KAAC,IAAD;MAAM,KAAK,EAAEV,OAAO,CAACc;IAArB,EAPF,EAQE,KAAC,KAAD;MAAO,KAAK,EAAEd,OAAO,CAACgB;IAAtB,EARF;EAAA,EADF;AAYD"},"metadata":{},"sourceType":"module"}