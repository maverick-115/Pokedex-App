{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport React, { useEffect, useState } from \"react\";\nimport FontAwesome5 from \"@expo/vector-icons/FontAwesome5\";\nimport FontAwesome from \"@expo/vector-icons/FontAwesome\";\nimport { addPokemonFavoriteApi, isPokemonFavoriteApi, removePokemonFavoriteApi } from \"../../api/favorite\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function Favorite(props) {\n  var id = props.id;\n\n  var _useState = useState(undefined),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFavorite = _useState2[0],\n      setIsFavorite = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      reloadCheck = _useState4[0],\n      setReloadCheck = _useState4[1];\n\n  var Icon = isFavorite ? FontAwesome : FontAwesome5;\n  useEffect(function () {\n    (function _callee() {\n      var response;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(isPokemonFavoriteApi(id));\n\n            case 3:\n              response = _context.sent;\n              setIsFavorite(response);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              setIsFavorite(false);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 7]], Promise);\n    })();\n  }, [id, reloadCheck]);\n\n  var onReloadCheckFavorite = function onReloadCheckFavorite() {\n    setReloadCheck(function (prev) {\n      return !prev;\n    });\n  };\n\n  var addFavorite = function _callee2() {\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(addPokemonFavoriteApi(id));\n\n          case 3:\n            onReloadCheckFavorite();\n            _context2.next = 9;\n            break;\n\n          case 6:\n            _context2.prev = 6;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 6]], Promise);\n  };\n\n  var removeFavorite = function _callee3() {\n    return _regeneratorRuntime.async(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(removePokemonFavoriteApi(id));\n\n          case 3:\n            onReloadCheckFavorite();\n            _context3.next = 9;\n            break;\n\n          case 6:\n            _context3.prev = 6;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.log(_context3.t0);\n\n          case 9:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 6]], Promise);\n  };\n\n  return _jsx(Icon, {\n    name: \"heart\",\n    color: \"#fff\",\n    size: 20,\n    onPress: isFavorite ? removeFavorite : addFavorite,\n    style: {\n      marginRight: 20\n    }\n  });\n}","map":{"version":3,"names":["React","useEffect","useState","FontAwesome5","FontAwesome","addPokemonFavoriteApi","isPokemonFavoriteApi","removePokemonFavoriteApi","Favorite","props","id","undefined","isFavorite","setIsFavorite","reloadCheck","setReloadCheck","Icon","response","onReloadCheckFavorite","prev","addFavorite","console","log","removeFavorite","marginRight"],"sources":["C:/Users/Usuario/MyCourses/React Native - Pokedex/pokedex/src/components/Pokemon/Favorite.js"],"sourcesContent":["import { View, Text } from \"react-native\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport FontAwesome5 from \"react-native-vector-icons/FontAwesome5\";\r\nimport FontAwesome from \"react-native-vector-icons/FontAwesome\";\r\nimport {\r\n  addPokemonFavoriteApi,\r\n  isPokemonFavoriteApi,\r\n  removePokemonFavoriteApi,\r\n} from \"../../api/favorite\";\r\n\r\nexport default function Favorite(props) {\r\n  const { id } = props;\r\n  const [isFavorite, setIsFavorite] = useState(undefined);\r\n  const [reloadCheck, setReloadCheck] = useState(false);\r\n  const Icon = isFavorite ? FontAwesome : FontAwesome5;\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const response = await isPokemonFavoriteApi(id);\r\n        setIsFavorite(response);\r\n      } catch (error) {\r\n        setIsFavorite(false);\r\n      }\r\n    })();\r\n  }, [id, reloadCheck]);\r\n\r\n  const onReloadCheckFavorite = () => {\r\n    setReloadCheck((prev) => !prev);\r\n  };\r\n\r\n  const addFavorite = async () => {\r\n    try {\r\n      await addPokemonFavoriteApi(id);\r\n      onReloadCheckFavorite();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const removeFavorite = async () => {\r\n    try {\r\n      await removePokemonFavoriteApi(id);\r\n      onReloadCheckFavorite();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Icon\r\n      name=\"heart\"\r\n      color=\"#fff\"\r\n      size={20}\r\n      onPress={isFavorite ? removeFavorite : addFavorite}\r\n      style={{ marginRight: 20 }}\r\n    />\r\n  );\r\n}\r\n"],"mappings":";;;;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,YAAP;AACA,OAAOC,WAAP;AACA,SACEC,qBADF,EAEEC,oBAFF,EAGEC,wBAHF;;AAMA,eAAe,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;EACtC,IAAQC,EAAR,GAAeD,KAAf,CAAQC,EAAR;;EACA,gBAAoCR,QAAQ,CAACS,SAAD,CAA5C;EAAA;EAAA,IAAOC,UAAP;EAAA,IAAmBC,aAAnB;;EACA,iBAAsCX,QAAQ,CAAC,KAAD,CAA9C;EAAA;EAAA,IAAOY,WAAP;EAAA,IAAoBC,cAApB;;EACA,IAAMC,IAAI,GAAGJ,UAAU,GAAGR,WAAH,GAAiBD,YAAxC;EAEAF,SAAS,CAAC,YAAM;IACd,CAAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,iCAE0BK,oBAAoB,CAACI,EAAD,CAF9C;;YAAA;cAESO,QAFT;cAGGJ,aAAa,CAACI,QAAD,CAAb;cAHH;cAAA;;YAAA;cAAA;cAAA;cAKGJ,aAAa,CAAC,KAAD,CAAb;;YALH;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAD;EAQD,CATQ,EASN,CAACH,EAAD,EAAKI,WAAL,CATM,CAAT;;EAWA,IAAMI,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;IAClCH,cAAc,CAAC,UAACI,IAAD;MAAA,OAAU,CAACA,IAAX;IAAA,CAAD,CAAd;EACD,CAFD;;EAIA,IAAMC,WAAW,GAAG;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA;YAAA,iCAEVf,qBAAqB,CAACK,EAAD,CAFX;;UAAA;YAGhBQ,qBAAqB;YAHL;YAAA;;UAAA;YAAA;YAAA;YAKhBG,OAAO,CAACC,GAAR;;UALgB;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAApB;;EASA,IAAMC,cAAc,GAAG;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA;YAAA,iCAEbhB,wBAAwB,CAACG,EAAD,CAFX;;UAAA;YAGnBQ,qBAAqB;YAHF;YAAA;;UAAA;YAAA;YAAA;YAKnBG,OAAO,CAACC,GAAR;;UALmB;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAvB;;EASA,OACE,KAAC,IAAD;IACE,IAAI,EAAC,OADP;IAEE,KAAK,EAAC,MAFR;IAGE,IAAI,EAAE,EAHR;IAIE,OAAO,EAAEV,UAAU,GAAGW,cAAH,GAAoBH,WAJzC;IAKE,KAAK,EAAE;MAAEI,WAAW,EAAE;IAAf;EALT,EADF;AASD"},"metadata":{},"sourceType":"module"}